"0","#Tirar raca ""ignorado"" e agrega pardo e pretos em negros"
"0","base <- data |> filter(raca != ""Ignorado"") |> mutate(raca = case_when( "
"0","      raca %in% c(""Preta"", ""Parda"") ~ ""Negros"",                "
"0","      TRUE ~ raca #para todos os outros casos, repete o que já está"
"0","                                                                    )) "
"0",""
"0","#Verificar se não houve nenhum engano"
"0","sum(data$raca %in% c(""Preta"",""Parda"")) == sum(base$raca == ""Negros"")"
"1","[1]"
"1"," TRUE"
"1","
"
"0","#Tirar observações em que renda total igual a 0/Na (base com alguma renda)"
"0","baseCR <- base |> filter(!is.na(rendimento_todas_fontas) & rendimento_todas_fontas != 0)"
"0",""
"0","#Bases filtradas em relação a base original"
"0","nrow(baseCR)/nrow(data) # 0.803298"
"1","[1]"
"1"," 0.803298"
"1","
"
"0","nrow(base)/nrow(data) #0.9999172"
"1","[1]"
"1"," 0.9999172"
"1","
"
"0","#proporção raca"
"0",""
"0","prop_raca <-  base |> count(raca) |> mutate(prop = n/sum(n) )"
"0",""
"0","#proporção gênero"
"0",""
"0","prop_genero <-  base |> count(sexo) |> mutate(prop = n/sum(n) )"
"0",""
"0","#Distribuição de renda"
"0",""
"0",""
"0","#Sexo (Com Rendimento)"
"0","ggplot(baseCR , aes(x = rendimento_todas_fontas, fill= sexo)) +"
"0","  geom_histogram() +"
"0","  scale_x_log10() +  # Escala logarítmica para melhor visualização"
"0","  labs("
"0","    title = ""Distribuição de Renda por Sexo"","
"0","    x = ""Renda (escala log10)"","
"0","    y = """""
"0","  ) +"
"0","  facet_wrap(~sexo, scales = ""free_y"", ncol = 1) + # Facetas separadas, free_y porque alguns grupos têm menor representatividade e a ideia é comparar a distribuição"
"0","  theme_minimal()"
